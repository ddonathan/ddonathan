<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>IntelAgree Contract List</title>
    <script src="https://rawgit.com/lodash/lodash/3.0.1/lodash.min.js"></script>
    <link rel="shortcut icon" type="image/x-icon" href="https://images.squarespace-cdn.com/content/v1/5955b6c54f14bcb9ad902500/1502996898802-EUVGT7D6AX1Q39434MVQ/ke17ZwdGBToddI8pDm48kCE1k0t51nZnEs80cWylL42oCXeSvxnTEQmG4uwOsdIceAoHiyRoc52GMN5_2H8WpwK4Jxvekhwn8vLxb6w9I3TQ-U2z4I1wnXu_JqA6ZhKrBcIwq6dVHrdmYcJqIrjrEQ/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4-4.1.1/jq-3.3.1/jszip-2.5.0/dt-1.10.23/b-1.6.5/b-html5-1.6.5/cr-1.5.3/fc-3.3.2/fh-3.1.7/r-2.2.6/sc-2.0.3/sb-1.0.1/sp-1.2.2/sl-1.3.1/datatables.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.22/css/dataTables.bootstrap4.min.css" />

    <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.22/js/dataTables.bootstrap4.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/v/bs4-4.1.1/jq-3.3.1/jszip-2.5.0/dt-1.10.23/b-1.6.5/b-html5-1.6.5/cr-1.5.3/fc-3.3.2/fh-3.1.7/r-2.2.6/sc-2.0.3/sb-1.0.1/sp-1.2.2/sl-1.3.1/datatables.min.js"></script>

    <script>
        // TODO Figure out how to just pass this array of objects rather than having to reconstruct it here
        // data = []
        let data = [
            {
                "id": 1,
                "name": "146,1567148731,Test 123",
                "type": "Example 001",
                "status": "Draft",
                "dateEffective": "1/1/2018",
                "dateExpiration": "10/1/2018",
            },
            {
                "id": 2,
                "name": "CoLabs-Red Bull Racing-20190808",
                "type": "Example 001",
                "status": "Draft",
                "dateEffective": "1/1/2018",
                "dateExpiration": "5/17/2019",
            },
            {
                "id": 3,
                "name": "CoLabs-Red Bull Racing-20200408",
                "type": "MSA",
                "status": "Awaiting Review",
                "dateEffective": "",
                "dateExpiration": "",
            },
            {
                "id": 4,
                "name": "CoLabs-Red Bull Racing-20200408",
                "type": "eSig Only",
                "status": "Awaiting Review",
                "dateEffective": "4/5/2018",
                "dateExpiration": "12/31/2018",
            },
            {
                "id": 4,
                "name": "CoLabs-Red Bull Racing-20200408",
                "type": "eSig Only",
                "status": "Awaiting Signatures",
                "dateEffective": "5/13/2020",
                "dateExpiration": "4/30/2021",
            },
            {
                "id": 6,
                "name": "CoLabs-Red Bull Racing-20200408",
                "type": "Example 003",
                "status": "Executed",
                "dateEffective": "5/15/2020",
                "dateExpiration": "5/29/2020",
            },
            {
                "id": 7,
                "name": "CoLabs-Red Bull Racing-20200408",
                "type": "Example 003",
                "status": "Awaiting Signatures",
                "dateEffective": "5/15/2020",
                "dateExpiration": "5/30/2020",
            },
            {
                "id": 3,
                "name": "CoLabs-Red Bull Racing-20200408",
                "type": "MSA",
                "status": "Awaiting Review",
                "dateEffective": "",
                "dateExpiration": "",
            },
            {
                "id": 4,
                "name": "CoLabs-Red Bull Racing-20200408",
                "type": "eSig Only",
                "status": "Awaiting Review",
                "dateEffective": "4/5/2018",
                "dateExpiration": "12/31/2018",
            },
            {
                "id": 4,
                "name": "CoLabs-Red Bull Racing-20200408",
                "type": "eSig Only",
                "status": "Awaiting Signatures",
                "dateEffective": "5/13/2020",
                "dateExpiration": "4/30/2021",
            },
            {
                "id": 6,
                "name": "CoLabs-Red Bull Racing-20200408",
                "type": "Example 003",
                "status": "Executed",
                "dateEffective": "5/15/2020",
                "dateExpiration": "5/29/2020",
            },
            {
                "id": 7,
                "name": "CoLabs-Red Bull Racing-20200408",
                "type": "Example 003",
                "status": "Awaiting Signatures",
                "dateEffective": "5/15/2020",
                "dateExpiration": "5/30/2020",
            },
            {
                "id": 3,
                "name": "CoLabs-Red Bull Racing-20200408",
                "type": "MSA",
                "status": "Awaiting Review",
                "dateEffective": "",
                "dateExpiration": "",
            },
            {
                "id": 4,
                "name": "CoLabs-Red Bull Racing-20200408",
                "type": "eSig Only",
                "status": "Awaiting Review",
                "dateEffective": "4/5/2018",
                "dateExpiration": "12/31/2018",
            },
            {
                "id": 4,
                "name": "CoLabs-Red Bull Racing-20200408",
                "type": "eSig Only",
                "status": "Awaiting Signatures",
                "dateEffective": "5/13/2020",
                "dateExpiration": "4/30/2021",
            },
            {
                "id": 6,
                "name": "CoLabs-Red Bull Racing-20200408",
                "type": "Example 003",
                "status": "Executed",
                "dateEffective": "5/15/2020",
                "dateExpiration": "5/29/2020",
            },
            {
                "id": 7,
                "name": "CoLabs-Red Bull Racing-20200408",
                "type": "Example 003",
                "status": "Awaiting Signatures",
                "dateEffective": "5/15/2020",
                "dateExpiration": "5/30/2020",
            },
            {
                "id": 8,
                "name": "CoLabs-Red Bull Racing-20200408",
                "type": "MSA",
                "status": "Draft",
                "dateEffective": "1/1/2019",
                "dateExpiration": "12/31/2019",
            }
        ]



        // TODO When we are going to pull this from lambda we'll use this. For now, we're hard coding the data above
        // {{#nameData}}
        //     data.push({
        //         "firstName": "{{firstName}}",
        //         "lastName": "{{lastName}}",
        //         "name": "{{name}}",
        //         "email": "{{email}}",
        //         "phone": "{{phone}}",
        //         "mobile": "{{mobile}}",
        //         "address": {
        //             "address1": "{{address.address1}}",
        //             "city": "{{address.city}}",
        //             "state": "{{address.state}}",
        //             "zip": "{{address.zip}}"
        //         },
        //         "gender": "{{gender}}",
        //         "dateOfBirth": "{{dateOfBirth}}",
        //         "ssn": "{{ssn}}",
        //         "companyName": "{{companyName}}",
        //         "occupation": "{{occupation}}",
        //         "status": "{{status}}",
        //         "source": "{{source}}",
        //         "employmentPreference": "{{employmentPreference}}",
        //         "desiredLocations": "{{desiredLocations}}",
        //         "salaryLow": "{{fmtMoney salaryLow}}",
        //         "salary": "{{fmtMoney salary}}",
        //         "hourlyRateLow": "{{fmtMoney hourlyRateLow}}",
        //         "hourlyRate": "{{fmtMoney hourlyRate}}",
        //         "dateAdded": "{{formatDate dateAdded "MM/DD/YYYY"}}",
        //         "dateLastModified": "{{formatDate dateLastModified "MM/DD/YYYY"}}",
        //         "dateAvailable": "{{formatDate dateAvailable "MM/DD/YYYY"}}",
        //     })
        // {{/nameData}}


        $(document).ready(function () {
            $('#table_id').DataTable({
                data: data,
                columns: [
                    {
                        data: 'name',
                        render: function (data, type, full, meta) {
                            return '<a href="#?emp_id=' + full.id + '">' + data + '</a>';
                        }
                    },
                    { data: 'type' },
                    { data: 'status' },
                    { data: 'dateEffective' },
                    { data: 'dateExpiration' },
                ],
                paging: true,
                searching: true,
                ordering: true,
                scrollY: "300px",
                scrollX: true,
                deferRender: true,
                scroller: true,
            });

            $("td").click(function () {
                var range = document.createRange();
                range.selectNodeContents(this);
                var sel = window.getSelection();
                sel.removeAllRanges();
                sel.addRange(range);

                // alert(sel);
            });


        })
    </script>
</head>

<body>
    <div class="container-md">
        <div id="top" class="row justify-content-between p-2">
            <div class="row mb-3">
                <p class="h4">Red Bull Racing - Contract List</p>
            </div>
            <div class="col-2"><input type="button" class="btn btn-outline-primary" value="VIEW IN INTELAGREE"></div>
        </div>

        <div class="table-responsive">
            <table id="table_id" class="table table-sm table-striped table-hover nowrap" style="width:100%" data-order='[[ 0, "asc" ]]' data-page-length='25'>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Status</th>
                        <th>Effective Date</th>
                        <th>Expiration Date</th>
                    </tr>
                </thead>
            </table>
        </div>

        <div class="row mb-3 justify-content-between">
            <div class="col-8">
                <input type="button" class="btn btn-primary" value="CREATE NEW" onClick="window.location = 'addContract.html';">
                <input type="button" class="btn btn-outline-primary" value="IMPORT NEW">
                <input type="button" class="btn btn-outline-primary" value="UPLOAD EXISTING">
            </div>
        </div>
    </div>

</body>

</html>